<% content_for :title, @movie ? "Comments for #{@movie.title}" : "All Comments" %>

<div class="container my-4">
  <% if notice %>
    <div class="alert alert-success"><%= notice %></div>
  <% end %>

  <h1 class="mb-4">
    <% if @movie %>
      ðŸ’¬ Comments for "<%= @movie.title %>"
    <% else %>
      ðŸ’¬ All Comments
    <% end %>
  </h1>

  <div class="row row-cols-1 g-3">
    <% @comments.each do |comment| %>
      <div class="col">
        <%= render comment %>
        <div class="mt-2">
          <%= link_to "View Comment",
                      comment_path(comment),
                      class: "btn btn-outline-primary btn-sm" %>
        </div>
      </div>
    <% end %>
  </div>

  <div class="mt-4">
    <% if @movie %>
      <%= link_to "Back to movie", movie_path(@movie), class: "btn btn-primary" %>
      <%= link_to "âž• New Comment",
                  new_comment_path(movie_id: @movie.id),
                  class: "btn btn-success" %>
    <% else %>
      <%= link_to "âž• New Comment",
                  new_comment_path,
                  class: "btn btn-success" %>
    <% end %>
  </div>
</div>